{"is_source_file": true, "format": "TypeScript/TSX", "description": "This file defines a React component called StepCard, which renders a video player with custom controls, including play/pause, progress bar, fullscreen toggle, and loading indicator. It also manages video preloading, buffering, error handling, and different visual variants for different use cases (inspect, plan, build). The component uses hooks for state management, effects for side effects, and external libraries like framer-motion for animations and next/image for optimized images.", "external_files": ["react", "framer-motion", "next/image", "lucide-react"], "external_methods": ["useState", "useRef", "useEffect", "useCallback", "motion", "AnimatePresence", "Image"], "published": ["StepCard"], "classes": [], "methods": [{"name": "loadVideoWithProgress", "description": "Handles loading a video URL with progress tracking, using XMLHttpRequest for local or CORS-enabled videos, and fallback to direct assignment for external URLs."}, {"name": "handlePlayPause", "description": "Toggles between playing and pausing the video."}, {"name": "handleFullscreen", "description": "Requests fullscreen mode for the video element and manages controls visibility during fullscreen."}, {"name": "handleVideoLoad", "description": "Handles the video load event, updating loading state and duration."}, {"name": "handleVideoError", "description": "Handles errors during video loading, retries loading up to a maximum number of attempts."}, {"name": "retryVideoLoad", "description": "Retries loading the video after an error, with a timeout fallback."}, {"name": "formatTime", "description": "Formats a time in seconds into a MM:SS string."}], "calls": ["useState", "useRef", "useEffect", "useCallback", "document.addEventListener", "document.removeEventListener", "videoRef.current.load", "videoRef.current.pause", "videoRef.current.play", "videoRef.current.requestFullscreen", "URL.createObjectURL", "URL.revokeObjectURL", "XMLHttpRequest.open", "XMLHttpRequest.send", "XMLHttpRequest.abort", "XMLHttpRequest.onload", "XMLHttpRequest.onerror", "XMLHttpRequest.onprogress"], "search-terms": ["StepsCard", "video player", "custom video controls", "video preloading", "buffer management", "fullscreen toggle", "loading indicator", "variant styles", "React hooks", "error handling"], "state": 2, "file_id": 633, "knowledge_revision": 1153, "git_revision": "cd7f9d4de20a02ad0bbc41d68321c1dac1fc2603", "ctags": [], "filename": "src/sections/ModularSolution/StepsCard copy.tsx", "hash": "619c0fb9fe87ee93fa9174d4f2e717e3", "format-version": 4, "code-base-name": "https://github.com/Kavia-ai/kavia-website-v2.git:main", "revision_history": [{"1153": "cd7f9d4de20a02ad0bbc41d68321c1dac1fc2603"}]}